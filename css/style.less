@font-face {
    font-family: 'BebasNeue';
    src: url('/fonts/BebasNeue.otf');
    font-display: swap;
}

@font-face {
    font-family: 'BebasNeueL';
    src: url('/fonts/BebasNeue-Light.otf');
    font-display: swap;
}

@font-face {
    font-family: 'BebasNeueB';
    src: url('/fonts/BebasNeue-Book.otf');
    font-display: swap;
}

@font-face {
    font-family: 'BebasNeueT';
    src: url('/fonts/BebasNeue-Thin.otf');
    font-display: swap;
}

@font-face {
    font-family: 'pragmaticac';
    src: url('/fonts/pragmaticac.otf');
    font-display: swap;
}

// Миксина стрелки для слайдера
.arrowSlider() {
	position: absolute;
	right: 50px; top: 50%;
	transform: translateY(-50%);
	width: 40px; height: 99px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	cursor: pointer;
	visibility: visible;
	opacity: 1;
	transition: visibility .2s,
				opacity .2s;

	& > i {
		width: 51px; height: 2px;
		transform-origin: left;
		transform: rotate(75deg);
		background-color: #fff;

		&:last-child {
			transform: rotate(-75deg);
		}
	}

	&.hidden {
		visibility: hidden;
		opacity: 0;
	}
}

* {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

body {
	font-family: 'pragmaticac';
}

.background-slider {
	position: fixed;
	left: 0; top: 0;
	z-index: -10;
	width: 100vw; height: 100vh;

	& > .slides {
		position: absolute;
		left: 0; top: 0;
		z-index: -9;
		width: 100vw; height: 100vh;

		& > div {
			position: absolute;
			left: 0; top: 0;
			width: 100%; height: 100%;
			background-position: center;
			background-repeat: no-repeat;
			background-size: cover;
			opacity: 0; visibility: hidden;
			transition: opacity 1s ease, visibility 1s ease;

			&:after {
				content: "";
				position: absolute;
				left: 0; top: 0;
				width: 100%; height: 100%;
				background-image: inherit;
				background-position: center;
				background-size: cover;
				background-repeat: no-repeat;
				opacity: 0; visibility: hidden;
				transition: opacity .2s,
							visibility .2s;
			}

			&:before {
				content: "";
				position: absolute;
				left: 0; top: 0;
				background-color: rgba(0,0,0,.7);
				width: 100%; height: 100%;
				opacity: 0; visibility: hidden;
			}

			&.active {
				opacity: 1; visibility: visible;

				&:after, &:before {
					opacity: 1; visibility: visible;
				}
			}

			&.notfull {
				&:after {
					height: 90%;
					top: 50%;
					transform: translateY(-50%);
					background-position: 35% center;
					background-size: contain;
				}
			}
		}
	}

	& > .title {
		position: absolute;
		display: flex;
		justify-content: space-between;
		align-items: center;
		left: 90px; bottom: 155px;
		background-color: rgba(0,0,0,.5);
		height: 33px; width: 320px;
		visibility: visible;
		opacity: 1;
		transition: width .3s,
					opacity .2s,
					visibility .2s;

		& > p {
			font-family: 'BebasNeueT';
			font-size: 33px;
			text-transform: uppercase;
			color: #fff;
			padding: 3px 0 3px 10px;
			opacity: 1;
			max-width: 90%;
			overflow: hidden;
			transition: opacity .3s;

			& span {
				font-family: 'BebasNeueB';
			}
		}

		& > div {
			position: absolute;
			right: -28px;
			width: 18px; height: 100%;
			display: flex;
			justify-content: space-between;
			align-items: center;

			& > i {
				display: block;
				width: 2px; height: 100%;
				background-color: #fff;
			}
		}

		&.hidden {
			opacity: 0;
			visibility: hidden;
		}
	}

	& > .next {
		.arrowSlider();
	}

	&.only-back {
		& > .slides > div:after {
			opacity: 0;
			visibility: hidden;
		}
	}
}

.title-page {
	position: fixed;
	left: 90px;	top: 50px;
	display: flex;
	flex-direction: column;
	z-index: 1000;

	& > .main-title {
		font-family: 'BebasNeueL';
		color: #fff;
		text-transform: uppercase;
		text-decoration: none;
		font-size: 84px;
		border-bottom: 2px solid #fff;
		margin-bottom: 21px;
	}

	& > .tp-tel {
		display: flex;
		flex-direction: column;
		padding-left: 10px;
		border-left: 2px solid #fff;

		& > a {
			color: #fff;
			font-size: 28px;
			text-decoration: none;
			padding: 3px 0;
		}
	}
}

.main-menu {
	position: fixed;
	top: 110px; right: 215px;
	display: flex;
	justify-content: flex-end;
	z-index: 1000;

	& > .menu {
		opacity: 1;
		visibility: visible;
		transition: opacity .2s,
					visibility .2s;
		
		& > ul {
			display: flex;
			list-style: none;

			// Главные пункты меню
			& > li {
				position: relative;

				// Внутреннее меню
				& > ul {
					position: absolute;
					padding-top: 30px; left: -3px;
					list-style: none;
					width: 176px;
					opacity: 0;
					visibility: hidden;
					transition: opacity .2s,
								visibility .2s;

					& > li {
						padding: 7px 10px;
						background-color: rgba(35,31,32,.5);

						& > a {
							color: #231F20;
							font-size: 14px;
							text-decoration: none;
							text-transform: uppercase;
							transition: color .2s;

							&:hover {
								color: #fff;
							}
						}
					}
				}

				&:first-child:hover {
					& > ul {
						visibility: visible;
						opacity: 1;
					}

					&:before {
						transform: scaleY(1);
					}
				}

				&:before {
					content: "";
					position: absolute;
					left: -5px; top: 0;
					width: 2px; height: 214px;
					background-color: #fff;
					transform-origin: top;
					transform: scaleY(0);
					z-index: 2;
					transition: transform .2s;
				}

				& .link {
					position: relative;
					color: #fff;
					text-decoration: none;
					text-transform: uppercase;
					margin-right: 17px;
					font-size: 18px;
					width: auto;
					transition: color .2s,
								opacity .2s,
								visibility .2s,
								width .2s;

					&:after {
						content: "";
						position: absolute;
						right: -10px; top: 0;
						width: 2px; height: 150%;
						background-color: #fff;
						transition: opacity .2s;
					}

					&:hover {
						color: #000;
					}

					&.hidden {
						opacity: 0;
						visibility: hidden;
						width: 0;
					}

					&.visible {
						&:after {
							opacity: 0;
						}
					}
				}
			}
		}

		&.hidden {
			opacity: 0;
			visibility: hidden;
		}
	}

	& > .page-menu {
		position: absolute;
		right: 0;
		display: flex;
		flex-direction: row-reverse;
		visibility: hidden;
		opacity: 0;
		transition: opacity .2s,
					visibility .2s;

		& > .menu-btn {
			display: flex;
			justify-content: space-between;
			align-items: center;
			width: 25px; height: 27px;
			cursor: pointer;

			& > i {
				width: 2px; height: 100%;
				background-color: #fff;
			}
		}

		& > p {
			color: #fff;
			font-size: 18px;
			text-transform: uppercase;
			margin-right: 20px;
		}

		&.open {
			visibility: visible;
			opacity: 1;
		}
	}
}

.wrapper {
	position: fixed;
	left: 0; top: 0;
	right: 0; bottom: 0;
	opacity: 1;
	visibility: visible;

	// Слайдер квартир и о нас
	& > .ap-slider {
		position: relative;
		width: 100%; height: 100%;

		& > .slides {
			position: absolute;
			left: 0; top: 0;
			right: 0; bottom: 0;

			& > .ap-s-slide {
				position: absolute;
				width: 921px; height: 610px;
				left: 90px; bottom: 50px;
				position: absolute;
				background-size: cover;
				background-repeat: no-repeat;
				background-position: center;
				box-sizing: content-box;
				border: 1px solid #fff;
				transform-origin: right;
				perspective-origin: 0 50%;
				box-shadow: 40px 0 81px rgba(0,0,0,.8);
				transition: transform .4s,
							opacity .4s,
							visibility .4s,
							border-color .4s;

				// Квартира, дома
				& > .apss-info {
					position: absolute;
					right: -1px; top: -1px;
					width: 612px; height: 82px;
					background-color: rgba(0,0,0,.5);
					transform-origin: right;
	    			transform: rotate(-90deg) translate3d(41px,-50%,0);
	    			display: flex;
	    			justify-content: space-between;
	    			align-items: center;
	    			padding: 0 50px;
	    			opacity: 1;
	    			visibility: visible;
	    			transition: opacity .2s,
	    						visibility .2s;

	    			& > p {
	    				font-family: 'BebasNeueL';
	    				font-size: 34px;
	    				color: #fff;
	    				text-transform: uppercase;

	    				& > span {
	    					font-family: 'BebasNeueB';
	    				}
	    			}

	    			&.hidden {
	    				opacity: 0;
	    				visibility: hidden;
	    			}
				}

				// Тень
				& > .apss-w-shadow {
					position: absolute;
					left: 0; top: 0;
					right: 0; bottom: 0;
					background-color: #000;
					opacity: .65;
					visibility: visible;
					transition: opacity .4s,
								visibility .4s;

					&.hidden {
						opacity: 0;
						visibility: hidden;
					}
				}

				// О нас
				& > .apss-wrapper {
					position: absolute;
					left: 0; top: 0;
					right: 0; bottom: 0;
					display: flex;
					flex-direction: column;
					align-items: center;
					opacity: 1;
					visibility: visible;
					transition: opacity .4s,
								visibility .4s;

					& > .apss-title {
						color: #fff;
						width: 100%;
						font-family: 'BebasNeueB';
						font-size: 34px;
						padding: 15px 10px;
						text-transform: uppercase;

						& > span {
							font-family: 'BebasNeueL';
						}
					}

					& > .apss-t-inner {
						display: flex;
						justify-content: space-between;
						width: 100%;

						& > .apss-ti-text {
							width: 600px;
							padding: 5px 10px;
							color: #fff;
							background-color: rgba(0,0,0,.5);
						}

						& > .apss-ti-img {
							position: absolute;
							width: 246px; height: 317px;
							right: 10px;
							object-fit: cover;
						}

						& > .apss-ti-img-back {
							position: absolute;
							width: 100%; height: 100%;
							object-fit: cover;
							transform: translateY(-71px);
							opacity: 0;
							visibility: hidden;
							transition: opacity .4s,
										visibility .4s;
						}
					}

					&.hidden > .apss-t-inner > .apss-ti-img-back {
						opacity: 1;
						visibility: visible;
					}
				}

				& > .link-to-apart {
					display: block;
					position: absolute;
					left: 0; top: 0;
					right: 0; bottom: 0;
				}

				&.hidden {
					opacity: 0;
					visibility: hidden;
				}

				&.inactive {
					cursor: pointer;
					border-color: rgba(0,0,0,0);

					& > .link-to-apart {
						display: none;
					}

					&:hover {
						border-color: #fff;
					}
				}
			}
		}

		& > .next {
			.arrowSlider();
			right: 160px; top: 58%;
		}
	}

	&.hidden {
		opacity: 0;
		visibility: hidden;
	}
}

.ap-wrapper {
	position: absolute;
	left: 0; top: 0;
	right: 0; bottom: 0;

	& > .ap-more-slider {
		position: absolute;
		left: 0; top: 0;
		right: 0; bottom: 0;

		& > .apm-slide {
			position: absolute;
			left: 0; top: 0;
			right: 0; bottom: 0;
			background-size: cover;
			background-position: center;
			background-repeat: no-repeat;
			opacity: 0;
			visibility: hidden;
			transition: opacity .5s,
						visibility .5s;

			&.active {
				opacity: 1;
				visibility: visible;
			}
		}
	}

	& > .prev, & > .next {
		.arrowSlider();
	}

	& > .prev {
		right: auto; left: 50px;
		transform: scaleX(-1) translateY(-50%);
	}

	& > .ap-more-info {
		position: absolute;
		left: 90px; bottom: 50px;
		right: 90px;
		display: flex;
		justify-content: space-between;

		& > .apmi-title {

			& > p {
				font-family: 'BebasNeueT';
			    font-size: 33px;
			    width: 320px;
			    text-transform: uppercase;
			    color: #fff;
			    padding: 0 0 0 10px;
			    opacity: 1;
			    max-width: 95%;
			    background-color: rgba(0,0,0,.5);
			    overflow: hidden;
			    transition: opacity 0.3s;

			    & > span {
			    	font-family: 'BebasNeueB';
			    }
			}
		}

		& > .apmi-slider {
			position: relative;
			width: 734px; height: 130px;
			overflow: hidden;

			& > .apmis-wrapper {
				position: absolute;
				display: flex;
				flex-direction: row-reverse;
				align-items: center;
				height: 100%;
				left: 0; top: 0;
				transform: translate3d(0,0,0);
				transition: transform .2s;

				& > .slide {
					width: 225px; height: 100%;
					margin: 0 5px;
					background-position: center;
					background-size: cover;
					background-repeat: no-repeat;
					cursor: pointer;
					border: 1px solid rgba(255,255,255,0);
					opacity: .8;
					transition: border .2s,
								opacity .2s;

					&:hover {
						border-color: #fff;
						opacity: 1;
					}

					&.active {
						opacity: 1;
						border-color: #fff;
					}
				}
			}
		}

		& > .apmis-next {
			.arrowSlider();
			position: static;
			transform: translateY(17px);
			margin-left: 10px;
		}

		& > .apmi-desk {
			width: 694px;
			padding: 10px 50px 10px 10px;
			color: #fff;
			background-color: rgba(0,0,0,.5);
			font-size: 17px;
		}
	}
}

.loading {
	position: fixed;
	left: 0; top: 0;
	right: 0; bottom: 0;
	background-color: #333333;
	display: flex;
	justify-content: center;
	align-items: center;
	z-index: 999;
	opacity: 0;
	visibility: hidden;
	transition: opacity .2s,
				visibility .2s;

	&.active {
		opacity: 1;
		visibility: visible;
	}
}